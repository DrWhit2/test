@charset "utf-8";
@import url(//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css);

:root{
  --wood:#0f0e0d; --ink:#2b1c0f; --paper:#f6edd5;
  --shadow:0 30px 80px rgba(0,0,0,.55);
  --tab-yellow:#ffef8f; --tab-green:#bfe5b7; --tab-pink:#ffd1d8; --tab-blue:#cfe1ff;
}
*{box-sizing:border-box} html,body{height:100%} body{margin:0;font-family:ui-serif,"Noto Serif KR",serif;color:var(--ink);
  background:
    radial-gradient(1200px 700px at 65% -10%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(1000px 800px at 30% 120%, rgba(255,255,255,.05), transparent 60%),
    var(--wood);
}

/* ===== Book ===== */
.book{
  position:relative; width:min(1100px,94vw); height:min(720px,76vh);
  margin:16px auto; border-radius:18px; perspective:2200px;
  background:linear-gradient(180deg,#1b140e 0,#0e0c0a 100%);
  border:1px solid #493320; box-shadow:var(--shadow); overflow:visible;
}
.book::after{ /* 전체 노이즈 */
  content:""; position:absolute; inset:0; border-radius:18px; pointer-events:none;
  background-image:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">\
<filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".9" numOctaves="2"/>\
<feComponentTransfer><feFuncA type="table" tableValues="0 .07"/></feComponentTransfer></filter>\
<rect width="120" height="120" fill="rgba(255,255,255,.08)" filter="url(%23n)"/></svg>');
  mix-blend-mode:overlay; opacity:.35;
}

/* Spine */
.spine{ position:absolute; left:50%; top:26px; bottom:26px; width:22px; transform:translateX(-11px);
  background:linear-gradient(90deg,#1d140d,#372515,#1d140d); border:1px solid #4a3320; border-left:none; border-right:none;
  box-shadow:inset 0 0 30px rgba(0,0,0,.5); z-index:3; overflow:hidden;
}
.stitches{ position:absolute; inset:18px 0; background:
  radial-gradient(4px 8px at 50% 8%, #d7c19a 40%, transparent 45%) repeat-y,
  radial-gradient(4px 8px at 50% 92%, #d7c19a 40%, transparent 45%) repeat-y;
  background-size:100% 52px,100% 52px; background-position:0 0,0 26px; opacity:.8; width:100%;
}
.spine .grain{ position:absolute; inset:0; pointer-events:none; background-image:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><filter id="gn"><feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="2"/><feColorMatrix type="saturate" values=".1"/></filter><rect width="120" height="120" fill="rgba(255,255,255,.03)" filter="url(%23gn)"/></svg>');
  mix-blend-mode:overlay; opacity:.6;
}

/* 왼쪽 보드(가죽) */
.board{
  position:absolute; left:26px; top:26px; bottom:26px; width:calc(50% - 26px - 14px);
  border-radius:12px; background:linear-gradient(180deg,#3a2b1b,#2b1d12);
  box-shadow:inset 0 0 0 2px rgba(255,255,255,.06), inset 0 0 40px rgba(0,0,0,.45);
  overflow:hidden; z-index:1;
}
.board .leather-grain{
  position:absolute; inset:0; pointer-events:none; background-image:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">\
<filter id="gn"><feTurbulence type="fractalNoise" baseFrequency=".7" numOctaves="2"/><feComponentTransfer><feFuncA type="table" tableValues="0 .25"/></feComponentTransfer></filter>\
<rect width="120" height="120" fill="rgba(255,255,255,.06)" filter="url(%23gn)"/></svg>');
  mix-blend-mode:overlay; opacity:.55;
}
.board .holes{
  position:absolute; right:10px; top:16px; bottom:16px; width:14px; opacity:.6;
  background:radial-gradient(5px 5px at 50% 8%, rgba(0,0,0,.55) 55%, transparent 58%) repeat-y;
  background-size:100% 40px; filter:drop-shadow(0 1px 0 rgba(255,255,255,.2));
}
.memos{ position:absolute; inset:0; pointer-events:none }
.tilt-l{ transform:rotate(-2.2deg) } .tilt-r{ transform:rotate(2deg) }
.sticky,.letter,.note-card,.ticket{ position:absolute; box-shadow:0 12px 22px rgba(0,0,0,.16) }
.sticky{ width:170px; padding:10px 12px; background:#fff2a8; border:1px solid #e0c96b; border-radius:8px }
.sticky .pin{ position:absolute; top:-9px; left:12px; width:16px; height:16px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #fff, #caa86a); box-shadow:0 2px 4px rgba(0,0,0,.25) }
.letter{ width:210px; padding:12px 14px 16px; background:#f1e6cf; border:1px solid #d3c3a3; border-radius:6px }
.letter .stamp{ position:absolute; right:8px; top:6px; font-size:10px; line-height:10px; padding:6px 5px; text-align:center; background:#d75a5a; color:#fff; border:2px solid #8c2424; transform:rotate(6deg); letter-spacing:1px; font-weight:700 }
.note-card{ width:190px; padding:10px 12px; background:#fff; border:1px solid #d6cbb1; border-radius:6px }
.note-card .clip{ position:absolute; top:-6px; left:14px; width:28px; height:44px; border:3px solid #b0a792; border-top-left-radius:12px; border-bottom-left-radius:12px; border-right:none }
.ticket{ background:#bfe5b7; color:#1f3b2a; padding:8px 10px; border-radius:6px; border:2px dashed rgba(28,59,42,.5); font-weight:700; width:76px; text-align:center }
.scribble{ height:10px; margin:6px 0; background:linear-gradient(90deg, rgba(0,0,0,.22) 10%, transparent 10% 20%, rgba(0,0,0,.18) 20% 35%, transparent 35% 60%, rgba(0,0,0,.2) 60% 80%, transparent 80%); opacity:.5 }
.scribble.short{ width:70% }

/* 오른쪽 페이지 무대 */
.stage{
  position:absolute; left:50%; top:26px; bottom:26px; width:calc(50% - 26px - 14px);
  transform:translateX(14px); z-index:2;
}
.page, .sheet{ position:absolute; inset:0; border-radius:12px; overflow:hidden }
.page{
  background:#e8dcc3; /* 여백 아래색 */
}
.page .texture{ position:absolute; inset:0; pointer-events:none; background:
  radial-gradient(800px 300px at 0% 50%, rgba(255,255,255,.25), transparent 60%),
  radial-gradient(800px 300px at 100% 50%, rgba(0,0,0,.10), transparent 60%);
  box-shadow: inset 0 0 0 1px #cbb79a, inset 0 0 0 8px rgba(202,168,106,.35), 0 18px 36px rgba(0,0,0,.25);
}
#overlay{ position:absolute; inset:0; pointer-events:none }

/* 정지 페이지의 PNG 표시 */
.page{ background-size:cover; background-position:center; }

/* 넘김 시트 */
.sheet{ transform-origin:left center; transform-style:preserve-3d;
  transition: transform .9s cubic-bezier(.17,.67,.32,.98);
}
.sheet .face{ position:absolute; inset:0; backface-visibility:hidden; -webkit-backface-visibility:hidden }
.sheet .front{ background-size:cover; background-position:center } /* 현재/이전 PNG */
.sheet .back{ background:
  radial-gradient(800px 300px at 100% 50%, rgba(0,0,0,.14), transparent 60%),
  radial-gradient(800px 300px at 0% 50%, rgba(255,255,255,.18), transparent 60%),
  var(--paper);
}
/* 넘김 그림자 */
.sheet::after{
  content:""; position:absolute; inset:0; pointer-events:none; mix-blend-mode:multiply; opacity:.25;
  background:linear-gradient(90deg, rgba(0,0,0,.35), rgba(0,0,0,0) 30%, rgba(0,0,0,0) 70%, rgba(0,0,0,.3));
}

/* 목차 포스트잇(장식) */
.tabs{ position:absolute; right:-12px; top:36px; width:0; z-index:4; pointer-events:none }
.tab{ position:relative; width:86px; padding:8px 10px; font-weight:700; font-size:12px; color:#1f1c18;
  border:1px solid rgba(0,0,0,.18); border-radius:4px; box-shadow:0 6px 12px rgba(0,0,0,.18);
  margin:10px 0;
}
.tab-yellow{ background:var(--tab-yellow); transform:rotate(-2deg) }
.tab-green{ background:var(--tab-green); transform:rotate(1.5deg) translateX(-2px) }
.tab-pink{ background:var(--tab-pink); transform:rotate(-1.2deg) translateX(-1px) }
.tab-blue{ background:var(--tab-blue); transform:rotate(2deg) translateX(-2px) }

/* 네비 핫스팟 */
.nav{ position:absolute; top:0; bottom:0; width:50%; background:transparent; border:0; padding:0; cursor:pointer; z-index:5 }
.nav.prev{ left:0 } .nav.next{ right:0 }
.nav:focus-visible{ outline:2px dashed rgba(255,255,255,.4) }
