@charset "utf-8";
:root{
  --wood:#0f0e0d; --shadow:0 30px 80px rgba(0,0,0,.55);
}
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1200px 700px at 65% -10%, rgba(255,255,255,.06), transparent 60%),
    radial-gradient(1000px 800px at 30% 120%, rgba(255,255,255,.05), transparent 60%),
    var(--wood);
}

/* Book */
.book{
  position:relative; width:min(1100px,94vw); height:min(720px,76vh);
  margin:16px auto; border-radius:18px; perspective:2200px;
  background:linear-gradient(180deg,#1b140e 0,#0e0c0a 100%);
  border:1px solid #493320; box-shadow:var(--shadow); overflow:visible;
}
.book::after{
  content:""; position:absolute; inset:0; border-radius:18px; pointer-events:none;
  background-image:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120">\
<filter id="n"><feTurbulence type="fractalNoise" baseFrequency=".9" numOctaves="2"/>\
<feComponentTransfer><feFuncA type="table" tableValues="0 .07"/></feComponentTransfer></filter>\
<rect width="120" height="120" fill="rgba(255,255,255,.08)" filter="url(%23n)"/></svg>');
  mix-blend-mode:overlay; opacity:.35;
}

/* Spine */
.spine{ position:absolute; left:50%; top:26px; bottom:26px; width:22px; transform:translateX(-11px);
  background:linear-gradient(90deg,#1d140d,#372515,#1d140d); border:1px solid #4a3320; border-left:none; border-right:none;
  box-shadow:inset 0 0 30px rgba(0,0,0,.5); z-index:3; overflow:hidden;
}
.stitches{ position:absolute; inset:18px 0; background:
  radial-gradient(4px 8px at 50% 8%, #d7c19a 40%, transparent 45%) repeat-y,
  radial-gradient(4px 8px at 50% 92%, #d7c19a 40%, transparent 45%) repeat-y;
  background-size:100% 52px,100% 52px; background-position:0 0,0 26px; opacity:.8; width:100%;
}
.spine .grain{ position:absolute; inset:0; pointer-events:none; background-image:url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><filter id="gn"><feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="2"/><feColorMatrix type="saturate" values=".1"/></filter><rect width="120" height="120" fill="rgba(255,255,255,.03)" filter="url(%23gn)"/></svg>');
  mix-blend-mode:overlay; opacity:.6;
}

/* Stack */
.stack{ position:absolute; inset:26px }

/* Leaf (장) */
.leaf{
  position:absolute; left:50%; top:0; bottom:0; width:calc(50% - 26px - 14px);
  transform:translateX(14px) rotateY(0deg);    /* 기본: 오른쪽에 짝수 페이지(front) */
  transform-origin:left center; transform-style:preserve-3d;
  transition:transform .9s cubic-bezier(.17,.67,.32,.98);
  z-index:var(--z,5); user-select:none; cursor:pointer;
}
/* 넘긴 장: 왼쪽으로 실제 이동 + 뒷면(홀수) 보이기 */
.leaf.turned{ transform:translateX(calc(-100% - 14px)) rotateY(-180deg) }

.face{
  position:absolute; inset:0; border-radius:12px; overflow:hidden;
  backface-visibility:hidden; -webkit-backface-visibility:hidden;
  background-size:cover; background-position:center;
  /* 종이 가장자리 느낌 */
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.08), inset 0 0 0 8px rgba(202,168,106,.35), 0 18px 36px rgba(0,0,0,.25);
}
.face.back{ transform:rotateY(180deg) } /* 내부 보정 */

/* 넘김 그림자 */
.leaf::after{
  content:""; position:absolute; inset:0; pointer-events:none; mix-blend-mode:multiply; opacity:.25;
  background:linear-gradient(90deg, rgba(0,0,0,.35), rgba(0,0,0,0) 30%, rgba(0,0,0,0) 70%, rgba(0,0,0,.3));
}

/* 네비게이션 핫스팟 */
.nav{ position:absolute; top:0; bottom:0; width:50%; background:transparent; border:0; padding:0; cursor:pointer; z-index:7 }
.nav.prev{ left:0 } .nav.next{ right:0 }
.nav:focus-visible{ outline:2px dashed rgba(255,255,255,.4) }

